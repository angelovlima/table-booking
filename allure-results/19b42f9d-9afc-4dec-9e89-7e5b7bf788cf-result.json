{"uuid":"19b42f9d-9afc-4dec-9e89-7e5b7bf788cf","historyId":"26f04139d2c23c5dae43c44b59b50c68","testCaseId":"[engine:junit-jupiter]/[class:com.fiap.api.table_booking.api.RestaurantControllerIT]/[nested-class:FindAllRestaurants]/[method:testFindAllRestaurants()]","testCaseName":"testFindAllRestaurants","fullName":"com.fiap.api.table_booking.api.RestaurantControllerIT$FindAllRestaurants.testFindAllRestaurants","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:com.fiap.api.table_booking.api.RestaurantControllerIT]/[nested-class:FindAllRestaurants]/[method:testFindAllRestaurants()]"},{"name":"host","value":"DESKTOP-8B0KJTE"},{"name":"thread","value":"32624@DESKTOP-8B0KJTE.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"com.fiap.api.table_booking.api.RestaurantControllerIT$FindAllRestaurants"},{"name":"testClass","value":"com.fiap.api.table_booking.api.RestaurantControllerIT$FindAllRestaurants"},{"name":"testMethod","value":"testFindAllRestaurants"},{"name":"suite","value":"com.fiap.api.table_booking.api.RestaurantControllerIT.FindAllRestaurants"}],"links":[],"name":"testFindAllRestaurants","status":"broken","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"Failed to execute SQL script statement #1 of class path resource [clean_restaurant.sql]: DELETE FROM restaurants","trace":"org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [clean_restaurant.sql]: DELETE FROM restaurants\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)\r\n\tat org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)\r\n\tat org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)\r\n\tat org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)\r\n\tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$9(SqlScriptsTestExecutionListener.java:361)\r\n\tat org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)\r\n\tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:361)\r\n\tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:274)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:274)\r\n\tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:218)\r\n\tat org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:164)\r\n\tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:240)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: \"FK2DQGBE1MPLFLF435RQR130UR4: PUBLIC.RESTAURANT_RATINGS FOREIGN KEY(RESTAURANT_ID) REFERENCES PUBLIC.RESTAURANTS(ID) (CAST(1 AS BIGINT))\"; SQL statement:\nDELETE FROM restaurants [23503-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:520)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:365)\r\n\tat org.h2.constraint.ConstraintReferential.checkRowRefTable(ConstraintReferential.java:382)\r\n\tat org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:256)\r\n\tat org.h2.table.Table.fireConstraints(Table.java:1200)\r\n\tat org.h2.table.Table.fireAfterRow(Table.java:1218)\r\n\tat org.h2.command.dml.Delete.update(Delete.java:92)\r\n\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:256)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)\r\n\t... 18 more\r\n"},"stage":"finished","description":"","steps":[],"attachments":[],"parameters":[],"start":1727822143863,"stop":1727822143869}